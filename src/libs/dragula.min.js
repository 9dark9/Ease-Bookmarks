!function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).dragula=e()}(function(){return function o(r,i,u){function c(t,e){if(!i[t]){if(!r[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(l)return l(t,!0);throw(n=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",n}n=i[t]={exports:{}},r[t][0].call(n.exports,function(e){return c(r[t][1][e]||e)},n,n.exports,o,r,i,u)}return i[t].exports}for(var l="function"==typeof require&&require,e=0;e<u.length;e++)c(u[e]);return c}({1:[function(e,t,n){"use strict";var o={},r="(?:^|\\s)",i="(?:\\s|$)";function u(e){var t=o[e];return t?t.lastIndex=0:o[e]=t=new RegExp(r+e+i,"g"),t}t.exports={add:function(e,t){var n=e.className;n.length?u(t).test(n)||(e.className+=" "+t):e.className=t},rm:function(e,t){e.className=e.className.replace(u(t)," ").trim()}}},{}],2:[function(e,n,t){(function(r){(function(){"use strict";var k,M=e("contra/emitter"),j=e("crossvent"),q=e("./classes"),U=document,V=U.documentElement,o=window.requestAnimationFrame||function(e){return setTimeout(e,1e3/60)},H=window.cancelAnimationFrame||function(e){clearTimeout(e)};function K(e,t,n,o){r.navigator.pointerEnabled?j[t](e,{mouseup:"pointerup",mousedown:"pointerdown",mousemove:"pointermove"}[n],o):r.navigator.msPointerEnabled?j[t](e,{mouseup:"MSPointerUp",mousedown:"MSPointerDown",mousemove:"MSPointerMove"}[n],o):(j[t](e,{mouseup:"touchend",mousedown:"touchstart",mousemove:"touchmove"}[n],o),j[t](e,n,o))}function z(e){if(void 0!==e.touches)return e.touches.length;if(void 0!==e.which&&0!==e.which)return e.which;if(void 0!==e.buttons)return e.buttons;e=e.button;return void 0!==e?1&e?1:2&e?3:4&e?2:0:void 0}function W(e){e=e.getBoundingClientRect();return{left:e.left+t("scrollLeft","pageXOffset"),top:e.top+t("scrollTop","pageYOffset")}}function t(e,t){return void 0!==r[t]?r[t]:(V.clientHeight?V:U.body)[e]}function $(e,t,n){var o=e||{},e=o.className;return o.className+=" gu-hide",n=U.elementFromPoint(t,n),o.className=e,n}function G(){return!1}function J(){return!0}function Q(e){return e.width||e.right-e.left}function Z(e){return e.height||e.bottom-e.top}function ee(e){return e.parentNode===U?null:e.parentNode}function te(e){return"INPUT"===e.tagName||"TEXTAREA"===e.tagName||"SELECT"===e.tagName||function e(t){if(!t)return!1;if("false"===t.contentEditable)return!1;if("true"===t.contentEditable)return!0;return e(ee(t))}(e)}function ne(t){return t.nextElementSibling||function(){var e=t;for(;e=e.nextSibling,e&&1!==e.nodeType;);return e}()}function oe(e,t){var t=(n=t).targetTouches&&n.targetTouches.length?n.targetTouches[0]:n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,n={pageX:"clientX",pageY:"clientY"};return e in n&&!(e in t)&&n[e]in t&&(e=n[e]),t[e]}function re(e,t,n){return k=o(function(){re(e,t,n)}),e[n]+=.25*t}n.exports=function(e,t){var s,d,p,m,v,o,r,g,h,y,n;1===arguments.length&&!1===Array.isArray(e)&&(t=e,e=[]);var i,w,b=null,T=t||{};void 0===T.moves&&(T.moves=J),void 0===T.accepts&&(T.accepts=J),void 0===T.invalid&&(T.invalid=function(){return!1}),void 0===T.containers&&(T.containers=e||[]),void 0===T.isContainer&&(T.isContainer=G),void 0===T.copy&&(T.copy=!1),void 0===T.copySortSource&&(T.copySortSource=!1),void 0===T.revertOnSpill&&(T.revertOnSpill=!1),void 0===T.removeOnSpill&&(T.removeOnSpill=!1),void 0===T.direction&&(T.direction="vertical"),void 0===T.ignoreInputTextSelection&&(T.ignoreInputTextSelection=!0),void 0===T.mirrorContainer&&(T.mirrorContainer=U.body),void 0===T.scrollEdge&&(T.scrollEdge=36),void 0===T.folderCss&&(T.folderCss="[type=folder]");var E=M({containers:T.containers,start:function(e){e=x(e);e&&O(e)},end:N,cancel:Y,remove:X,destroy:function(){c(!0),_({})},canMove:function(e){return!!x(e)},dragging:!1});return!0===T.removeOnSpill&&E.on("over",function(e){q.rm(e,"gu-hide")}).on("out",function(e){E.dragging&&q.add(e,"gu-hide")}),c(),E;function u(e){return-1!==E.containers.indexOf(e)||T.isContainer(e)}function c(e){e=e?"remove":"add";K(V,e,"mousedown",C),K(V,e,"mouseup",_)}function l(e){K(V,e?"remove":"add","mousemove",S)}function a(e){e=e?"remove":"add";j[e](V,"selectstart",f),j[e](V,"click",f)}function f(e){i&&e.preventDefault()}function C(e){var t,n;o=e.clientX,r=e.clientY,1!==z(e)||e.metaKey||e.ctrlKey||(n=x(t=e.target))&&(i=n,l(),"mousedown"===e.type&&(te(t)?t.focus():e.preventDefault()))}function S(e){if(i)if(0!==z(e)){if(void 0===e.clientX||e.clientX!==o||void 0===e.clientY||e.clientY!==r){if(T.ignoreInputTextSelection){var t=oe("clientX",e),n=oe("clientY",e);if(te(U.elementFromPoint(t,n)))return}n=i;l(!0),a(),N(),O(n);n=W(p);m=oe("pageX",e)-n.left,v=oe("pageY",e)-n.top,q.add(y||p,"gu-transit"),function(){if(s)return;var e=p.getBoundingClientRect();(s=p.cloneNode(!0)).style.width=Q(e)+"px",s.style.height=Z(e)+"px",q.rm(s,"gu-transit"),q.add(s,"gu-mirror"),T.mirrorContainer.appendChild(s),K(V,"add","mousemove",F),q.add(T.mirrorContainer,"gu-unselectable"),E.emit("cloned",s,p,"mirror")}(),F(e)}}else _({})}function x(e){if(!(E.dragging&&s||u(e))){for(var t=e;ee(e)&&!1===u(ee(e));){if(T.invalid(e,t))return;if(!(e=ee(e)))return}var n=ee(e);if(n)if(!T.invalid(e,t))if(T.moves(e,n,t,ne(e)))return{item:e,source:n}}}function O(e){var t,n;t=e.item,n=e.source,("boolean"==typeof T.copy?T.copy:T.copy(t,n))&&(y=e.item.cloneNode(!0),E.emit("cloned",y,e.item,"copy")),d=e.source,p=e.item,g=h=ne(e.item),E.dragging=!0,E.emit("drag",p,d)}function N(){var e;E.dragging?L(e=y||p,ee(e)):H(k)}function I(){l(!(i=!1)),a(!0)}function _(e){var t,n;I(),E.dragging&&(t=y||p,n=oe("clientX",e),e=oe("clientY",e),(e=A($(s,n,e),n,e))&&(y&&T.copySortSource||!y||e!==d)?L(t,e):(T.removeOnSpill?X:Y)())}function L(e,t){var n=ee(e);y&&T.copySortSource&&t===d&&n.removeChild(p),P(t)&&!w?E.emit("cancel",e,d,d):E.emit("drop",e,t,d,h,w),B()}function X(){var e,t;E.dragging&&((t=ee(e=y||p))&&t.removeChild(e),E.emit(y?"cancel":"remove",e,t,d),B())}function Y(e){var t,n,o;E.dragging&&(t=0<arguments.length?e:T.revertOnSpill,!1===(e=P(o=ee(n=y||p)))&&t&&(y?o&&o.removeChild(y):d.insertBefore(n,g)),e||t?E.emit("cancel",n,d,d):E.emit("drop",n,o,d,h),B())}function B(){var e=y||p;H(k),I(),s&&(q.rm(T.mirrorContainer,"gu-unselectable"),K(V,"remove","mousemove",F),ee(s).removeChild(s),s=null),e&&(q.rm(e,"gu-transit"),w&&(q.rm(h,"gu-drop-overlay"),e.remove())),n&&clearTimeout(n),E.dragging=!1,b&&E.emit("out",e,b,d),E.emit("dragend",e),d=p=y=g=h=n=b=null}function P(e,t){t=void 0!==t?t:s?h:ne(y||p);return e===d&&t===g}function A(t,n,o){for(var r=t;r&&!function(){if(!1===u(r))return!1;var e=R(r,t),e=D(r,e,n,o);if(P(r,e))return!0;return T.accepts(p,r,d,e)}();)r=ee(r);return r}function F(e){if(s){0===z(e)&&Y(),e.preventDefault();var n=oe("clientX",e),o=oe("clientY",e),t=n-m,r=o-v;s.style.left=t+"px",s.style.top=r+"px";var i=y||p,u=$(s,n,o),t=A(u,n,o),c=null!==t&&t!==b;!c&&null!==t||(b&&a("out"),b=t,c&&a("over"));r=ee(i);if(t!==d||!y||T.copySortSource){var l,u=R(t,u);if(null!==u)l=D(t,u,n,o);else{if(!0!==T.revertOnSpill||y)return void(y&&r&&r.removeChild(i));l=g,t=d}(null===l&&c||l!==i&&(l!==ne(i)||f(l)))&&(w=f(l)&&function(e){var t=(e.previousElementSibling||e.nextElementSibling||e).offsetTop===e.offsetTop,e=e.getBoundingClientRect();if(t)return n>e.left+Q(e)/4&&n<e.left+3*Q(e)/4;return o>e.top+Z(e)/4&&o<e.top+3*Z(e)/4}(l)?(q.add(l,"gu-drop-overlay"),!0):(h&&q.rm(h,"gu-drop-overlay"),t.insertBefore(i,l),E.emit("shadow",i,t,d),!1),h=l),function(e,t,n){var o=null,r=n.scrollEdge,i=function e(t){if(null===t)return null;var n=parseFloat(window.getComputedStyle(t).getPropertyValue("height"))+parseFloat(window.getComputedStyle(t).getPropertyValue("padding-top"))+parseFloat(window.getComputedStyle(t).getPropertyValue("padding-bottom"));if(t.scrollHeight>Math.ceil(n))return t;var n=new RegExp("(body|html)","i");if(!n.test(t.parentNode.tagName))return e(t.parentNode);return null}(e),n=null,e=null;e=t.touches?(n=t.touches[0].pageX,t.touches[0].pageY):(n=t.pageX,t.pageY);H(k),i?(e-W(i).top<r?re(i,-20,"scrollTop"):W(i).top+i.getBoundingClientRect().height-e<r&&re(i,20,"scrollTop"),n-i.getBoundingClientRect().left<r?re(i,-20,"scrollLeft"):W(i).left+i.getBoundingClientRect().width-n<r&&re(i,20,"scrollLeft")):(o=document.scrollingElement||document.documentElement||document.body,e-window.pageYOffset<r?re(o,-20,"scrollTop"):window.innerHeight-(e-window.pageYOffset)<r&&re(o,20,"scrollTop"),n-window.pageXOffset<r?re(o,-20,"scrollLeft"):window.innerWidth-(n-window.pageXOffset)<r&&re(o,20,"scrollLeft"))}(p,e,T)}else r&&r.removeChild(i)}function a(e){E.emit(e,i,b,d)}function f(e){return e&&null!==e.querySelector(T.folderCss)}}function R(e,t){for(var n=t;n!==e&&ee(n)!==e;)n=ee(n);return n===V?null:n}function D(r,t,i,u){var c="horizontal"===T.direction;return(t!==r?function(){var e=t.getBoundingClientRect();if(c)return n(i>e.left+Q(e)/2);return n(u>e.top+Z(e)/2)}:function(){var e,t,n,o=r.children.length;for(e=0;e<o;e++){if(t=r.children[e],n=t.getBoundingClientRect(),c&&n.left+n.width/2>i)return t;if(!c&&n.top+n.height/2>u)return t}return null})();function n(e){return e?ne(t):t}}}}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./classes":1,"contra/emitter":5,crossvent:6}],3:[function(e,t,n){t.exports=function(e,t){return Array.prototype.slice.call(e,t)}},{}],4:[function(e,t,n){"use strict";var o=e("ticky");t.exports=function(e,t,n){e&&o(function(){e.apply(n||null,t||[])})}},{ticky:10}],5:[function(e,t,n){"use strict";var c=e("atoa"),l=e("./debounce");t.exports=function(r,e){var i=e||{},u={};return void 0===r&&(r={}),r.on=function(e,t){return u[e]?u[e].push(t):u[e]=[t],r},r.once=function(e,t){return t._once=!0,r.on(e,t),r},r.off=function(e,t){var n=arguments.length;if(1===n)delete u[e];else if(0===n)u={};else{e=u[e];if(!e)return r;e.splice(e.indexOf(t),1)}return r},r.emit=function(){var e=c(arguments);return r.emitterSnapshot(e.shift()).apply(this,e)},r.emitterSnapshot=function(o){var e=(u[o]||[]).slice(0);return function(){var t=c(arguments),n=this||r;if("error"===o&&!1!==i.throws&&!e.length)throw 1===t.length?t[0]:t;return e.forEach(function(e){i.async?l(e,t,n):e.apply(n,t),e._once&&r.off(o,e)}),r}},r}},{"./debounce":4,atoa:3}],6:[function(n,o,e){(function(a){(function(){"use strict";var r=n("custom-event"),i=n("./eventmap"),u=a.document,e=function(e,t,n,o){return e.addEventListener(t,n,o)},t=function(e,t,n,o){return e.removeEventListener(t,n,o)},c=[];function l(e,t,n){t=function(e,t,n){var o,r;for(o=0;o<c.length;o++)if((r=c[o]).element===e&&r.type===t&&r.fn===n)return o}(e,t,n);if(t){n=c[t].wrapper;return c.splice(t,1),n}}a.addEventListener||(e=function(e,t,n){return e.attachEvent("on"+t,function(e,t,n){var o=l(e,t,n)||function(n,o){return function(e){var t=e||a.event;t.target=t.target||t.srcElement,t.preventDefault=t.preventDefault||function(){t.returnValue=!1},t.stopPropagation=t.stopPropagation||function(){t.cancelBubble=!0},t.which=t.which||t.keyCode,o.call(n,t)}}(e,n);return c.push({wrapper:o,element:e,type:t,fn:n}),o}(e,t,n))},t=function(e,t,n){n=l(e,t,n);if(n)return e.detachEvent("on"+t,n)}),o.exports={add:e,remove:t,fabricate:function(e,t,n){var o=-1===i.indexOf(t)?new r(t,{detail:n}):function(){var e;u.createEvent?(e=u.createEvent("Event")).initEvent(t,!0,!0):u.createEventObject&&(e=u.createEventObject());return e}();e.dispatchEvent?e.dispatchEvent(o):e.fireEvent("on"+t,o)}}}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./eventmap":7,"custom-event":8}],7:[function(e,r,t){(function(o){(function(){"use strict";var e=[],t="",n=/^on/;for(t in o)n.test(t)&&e.push(t.slice(2));r.exports=e}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],8:[function(e,n,t){(function(e){(function(){var t=e.CustomEvent;n.exports=function(){try{var e=new t("cat",{detail:{foo:"bar"}});return"cat"===e.type&&"bar"===e.detail.foo}catch(e){}}()?t:"undefined"!=typeof document&&"function"==typeof document.createEvent?function(e,t){var n=document.createEvent("CustomEvent");return t?n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail):n.initCustomEvent(e,!1,!1,void 0),n}:function(e,t){var n=document.createEventObject();return n.type=e,t?(n.bubbles=Boolean(t.bubbles),n.cancelable=Boolean(t.cancelable),n.detail=t.detail):(n.bubbles=!1,n.cancelable=!1,n.detail=void 0),n}}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],9:[function(e,t,n){var o,r,t=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function c(t){if(o===setTimeout)return setTimeout(t,0);if((o===i||!o)&&setTimeout)return o=setTimeout,setTimeout(t,0);try{return o(t,0)}catch(e){try{return o.call(null,t,0)}catch(e){return o.call(this,t,0)}}}!function(){try{o="function"==typeof setTimeout?setTimeout:i}catch(e){o=i}try{r="function"==typeof clearTimeout?clearTimeout:u}catch(e){r=u}}();var l,a=[],f=!1,s=-1;function d(){f&&l&&(f=!1,l.length?a=l.concat(a):s=-1,a.length&&p())}function p(){if(!f){var e=c(d);f=!0;for(var t=a.length;t;){for(l=a,a=[];++s<t;)l&&l[s].run();s=-1,t=a.length}l=null,f=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===u||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function v(){}t.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];a.push(new m(e,t)),1!==a.length||f||c(p)},m.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={},t.on=v,t.addListener=v,t.once=v,t.off=v,t.removeListener=v,t.removeAllListeners=v,t.emit=v,t.prependListener=v,t.prependOnceListener=v,t.listeners=function(e){return[]},t.binding=function(e){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(e){throw new Error("process.chdir is not supported")},t.umask=function(){return 0}},{}],10:[function(e,n,t){(function(t){(function(){var e="function"==typeof t?function(e){t(e)}:function(e){setTimeout(e,0)};n.exports=e}).call(this)}).call(this,e("timers").setImmediate)},{timers:11}],11:[function(l,e,a){(function(n,c){(function(){var o=l("process/browser.js").nextTick,e=Function.prototype.apply,r=Array.prototype.slice,i={},u=0;function t(e,t){this._id=e,this._clearFn=t}a.setTimeout=function(){return new t(e.call(setTimeout,window,arguments),clearTimeout)},a.setInterval=function(){return new t(e.call(setInterval,window,arguments),clearInterval)},a.clearTimeout=a.clearInterval=function(e){e.close()},t.prototype.unref=t.prototype.ref=function(){},t.prototype.close=function(){this._clearFn.call(window,this._id)},a.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},a.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},a._unrefActive=a.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;0<=t&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},a.setImmediate="function"==typeof n?n:function(e){var t=u++,n=!(arguments.length<2)&&r.call(arguments,1);return i[t]=!0,o(function(){i[t]&&(n?e.apply(null,n):e.call(null),a.clearImmediate(t))}),t},a.clearImmediate="function"==typeof c?c:function(e){delete i[e]}}).call(this)}).call(this,l("timers").setImmediate,l("timers").clearImmediate)},{"process/browser.js":9,timers:11}]},{},[2])(2)});